# =========================
# Safe defaults (DO NOT TRADE)
# =========================
WALLET_MODE="private_key"
PRIVATE_KEY=""

# Optional: CDP wallet mode (experimental)
# WALLET_MODE="cdp"
CDP_API_KEY_NAME=""
CDP_API_KEY_PRIVATE_KEY=""

CHAIN="base-sepolia"
BASE_SEPOLIA_RPC_URL="https://YOUR_BASE_SEPOLIA_RPC_URL"
BASE_RPC_URL="https://YOUR_BASE_RPC_URL"

# BaseScan (optional): used for `npx hardhat verify ...` on Base + Base Sepolia
BASESCAN_API_KEY=""

# Optional override
# RPC_URL=""

# Optional: set after deploy, or leave empty to read deployments/<network>.json
# TOKEN_ADDRESS=""

# =========================
# ERC-8004 (Trustless Agents)
# =========================
# If enabled and configured, receipts include:
#   Agent: eip155:<chainId>:<identityRegistry>#<agentId>
ERC8004_ENABLED="false"

# Optional: set after deploy, or leave empty to read deployments/<network>.json
# ERC8004_IDENTITY_REGISTRY=""

# Optional: set after register-agent.ts (uint256 as decimal string)
# ERC8004_AGENT_ID=""

# Optional: agent registration file URI (ipfs://, https://, data:...)
# ERC8004_AGENT_URI=""

# Optional: script helpers for set-agent-wallet.ts
# ERC8004_NEW_WALLET=""
# ERC8004_NEW_WALLET_PRIVATE_KEY=""   # signs the EIP-712 payload as newWallet
# ERC8004_WALLET_SIGNATURE=""         # or provide a precomputed signature (EOA or ERC-1271)
# ERC8004_DEADLINE_SEC=""             # unix seconds; defaults to now+1h

# =========================
# Agent runtime
# =========================
LOOP_MINUTES="30"
DRY_RUN="true"
TRADING_ENABLED="false"
KILL_SWITCH="true"

# Multi-instance support
# Run multiple agent processes safely by giving each instance its own state file.
# Example: data/state.alice.json, data/state.bob.json
STATE_PATH="data/state.json"

# Optional: override which deployments file scripts read/write.
# Useful if you want separate per-instance deployment metadata.
# Example: deployments/alice.baseSepolia.json
# DEPLOYMENTS_FILE="deployments/baseSepolia.json"

# Activity detection thresholds (event-driven receipts)
# ETH threshold in ETH units
MIN_ETH_DELTA="0.00001"
# Token threshold in whole-token units (will be scaled by decimals)
MIN_TOKEN_DELTA="1000"

# Safety caps (even if you flip LIVE)
DAILY_TRADE_CAP="2"
MIN_INTERVAL_MINUTES="60"
MAX_SPEND_ETH_PER_TRADE="0.0005"
SELL_FRACTION_BPS="500"
SLIPPAGE_BPS="300"

# ERC20 approvals (used only for live trading paths)
APPROVE_MAX="false"
APPROVE_CONFIRMATIONS="1"

# Router config (required to actually trade; otherwise agent holds)
ROUTER_TYPE="unknown"
# ROUTER_ADDRESS=""
# POOL_ADDRESS=""
# WETH_ADDRESS=""

# ========================
# Aerodrome (Base DEX)
# ========================
# Set these when ROUTER_TYPE=aerodrome
# ROUTER_TYPE="aerodrome"
# ROUTER_ADDRESS="0xcF77a3Ba9A5CA399B7c97c74d54e5b1Beb874E43"
# POOL_ADDRESS="0x4dd4e1bf48e9ee219a6d431c84482ad0e5cf9ccc" (WETH/INTERN volatile pool on Aerodrome)
# WETH_ADDRESS="0x4200000000000000000000000000000000000006" (Base WETH)
# AERODROME_STABLE="false" (false for volatile WETH/INTERN pair, 0.3% fee)
# AERODROME_GAUGE_ADDRESS="0x..." (optional, for gauge rewards)

# =========================
# Social posting
# =========================
SOCIAL_MODE="none"

# If SOCIAL_MODE="multi", post to multiple targets.
# Comma-separated list of: x_api, playwright, moltbook
SOCIAL_MULTI_TARGETS="x_api,moltbook"
HEADLESS="true"
X_USERNAME=""
X_PASSWORD=""
# Prefer cookies to reduce login friction
X_COOKIES_PATH="./x_cookies.json"

# Optional: provide cookies via env (Railway-friendly). Base64-encoded JSON.
X_COOKIES_B64=""

# Optional: X API mode (experimental)
X_API_KEY=""
X_API_SECRET=""
X_ACCESS_TOKEN=""
X_ACCESS_SECRET=""

# Optional: X Phase 1 Mentions Poller (Intent Recognition Only, No Trading)
# Requires X_SOCIAL_MODE=x_api and X API credentials above
X_PHASE1_MENTIONS="false"
X_POLL_MINUTES="2"

# Optional: One-shot OpenClaw announcement
# Set to "true" to post the announcement about Based Intern being managed by an
# external OpenClaw agent. After posting, remove this env var or set to "false"
# to prevent duplicate posts on Railway redeploys (ephemeral storage).
OPENCLAW_ANNOUNCEMENT_ENABLED="false"

# =========================
# Moltbook (optional)
# =========================
# Moltbook skill spec: https://www.moltbook.com/skill.md
# IMPORTANT: Only use www.moltbook.com; redirects can strip Authorization headers.

# Enable Moltbook integration (must be true when SOCIAL_MODE=moltbook)
MOLTBOOK_ENABLED="false"

# API base (from skill.md)
MOLTBOOK_BASE_URL="https://www.moltbook.com/api/v1"

# Auth mode:
# - bearer: Authorization: Bearer <key>
# - apiKey: same header, but key may be sourced from env and/or session.json
# - cookie: sends Cookie header (only if you have cookies; not described in skill.md currently)
MOLTBOOK_AUTH_MODE="bearer"

# Optional: provide API key via env (recommended to instead use the CLI which writes session.json)
MOLTBOOK_API_KEY=""

# Auth artifacts on disk (gitignored)
MOLTBOOK_COOKIE_PATH="data/moltbook/cookies.json"
MOLTBOOK_SESSION_PATH="data/moltbook/session.json"

# Optional: custom user agent
MOLTBOOK_USER_AGENT="BasedIntern/1.0"

# =========================
# LLM (optional)
# =========================
OPENAI_API_KEY=""

# =========================
# Base News Brain (optional)
# =========================
# Posts AI-generated (or deterministic fallback) commentary on Base ecosystem news.
# Safety rules:
# - Every news post MUST include a source URL.
# - Posts are capped per day and rate-limited by interval.

NEWS_ENABLED="false"

# "event": post when there is at least 1 unseen news item
# "daily": post only at NEWS_DAILY_HOUR_UTC (and at most once/day window)
NEWS_MODE="event"

NEWS_MAX_POSTS_PER_DAY="2"
NEWS_MIN_INTERVAL_MINUTES="120"

# Alias env keys (supported for compatibility with other deployments)
# NEWS_POSTS_PER_DAY="2"
# NEWS_INTERVAL_MINUTES="120"

# Safety toggles
NEWS_REQUIRE_LINK="true"
NEWS_REQUIRE_SOURCE_WHITELIST="true"

# Comma-separated list of supported sources:
# - defillama: DeFiLlama snapshot (Base TVL + top protocols)
# - github: GitHub Atom feeds (releases/commits)
# - rss: RSS/Atom feeds (generic) - recommended for Base blog via Mirror
# - base_blog: [DEPRECATED - returns 403] https://blog.base.org/
# - base_dev_blog: [DEPRECATED - returns 403] https://blog.base.dev/
# - cdp_launches: [DEPRECATED - returns 403] Coinbase CDP
NEWS_SOURCES="defillama,github,rss"

# Ranking threshold (0..1). Higher = fewer posts.
NEWS_MIN_SCORE="0.5"

# Required when NEWS_SOURCES includes rss
# Comma-separated list of RSS/Atom feed URLs.
# Default includes Base official blog via Mirror (no bot protection)
NEWS_FEEDS="https://mirror.xyz/base.eth/feed/atom"

# Required when NEWS_SOURCES includes github
# Comma-separated list of GitHub Atom feed URLs.
# Examples:
# - https://github.com/base-org/node/releases.atom
# - https://github.com/base-org/contracts/commits/main.atom
NEWS_GITHUB_FEEDS=""

# Used only when NEWS_MODE=daily
NEWS_DAILY_HOUR_UTC="15"

# Max number of news items passed as context to the LLM tool
NEWS_MAX_ITEMS_CONTEXT="8"

# =========================
# CDP (optional / experimental)
# =========================
CDP_API_KEY_NAME=""
CDP_API_KEY_PRIVATE_KEY=""
